{"version":3,"file":"static/webpack/static/development/pages/register.js.b1ab7b400fb9eab59a6e.hot-update.js","sources":["webpack:///./helpers/alert.js","webpack:///./pages/register.js"],"sourcesContent":["export const showSuccessMessage = success => <div className=\"alert alert-success\">{success}</div>;\nexport const showErrorMessage = error => <div className=\"alert alert-error\">{error}</div>;\n","import { useState } from 'react';\nimport Layout from '../components/Layout';\nimport axios from 'axios';\nimport { showSuccessMessage, showErrorMessage } from '../helpers/alert';\n\nconst Register = () => {\n    const [state, setState] = useState({\n        name: 'Captain Bob',\n        email: 'hello@sliphoo.fish',\n        password: 'rrrrrr',\n        error: '',\n        success: '',\n        buttonText: 'Register'\n    });\n\n    const { name, email, password, error, success, buttonText } = state;\n\n    const handleChange = name => e => {\n        setState({ ...state, [name]: e.target.value, error: '', success: '', buttonText: 'Register' });\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        setState({ ...state, buttonText: 'Registering' });\n        // console.table({ name, email, password });\n        axios\n            .post(`http://localhost:8000/api/register`, {\n                name,\n                email,\n                password\n            })\n            .then(response => {\n                console.log(response);\n                setState({\n                    ...state,\n                    name: '',\n                    email: '',\n                    password: '',\n                    buttonText: 'Submitted',\n                    success: response.data.message\n                });\n            })\n            .catch(error => {\n                console.log(error);\n                setState({ ...state, buttonText: 'Register', error: error.response.data.error });\n            });\n    };\n\n    const registerForm = () => (\n        <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n                <input\n                    value={name}\n                    onChange={handleChange('name')}\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Type your name\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <input\n                    value={email}\n                    onChange={handleChange('email')}\n                    type=\"email\"\n                    className=\"form-control\"\n                    placeholder=\"Type your email\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <input\n                    value={password}\n                    onChange={handleChange('password')}\n                    type=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Type your password\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <button className=\"btn btn-outline-warning\">{buttonText}</button>\n            </div>\n        </form>\n    );\n\n    return (\n        <Layout>\n            <div className=\"col-md-6 offset-md-3\">\n                <h1>Register</h1>\n                <br />\n                {success && showSuccessMessage(success)}\n                {error && showErrorMessage(error)}\n                {registerForm()}\n            </div>\n        </Layout>\n    );\n};\n\nexport default Register;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAWA;AAAA;AAAA;AACA;AAAA;AACA;AAFA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AANA;AAQA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA9BA;AACA;AAkCA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}